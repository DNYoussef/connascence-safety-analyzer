{
  "name": "connascence-safety-analyzer",
  "displayName": "Connascence Safety Analyzer",
  "description": "Enterprise-grade code analysis with Safety Standards/High Quality safety compliance and grammar-enhanced refactoring - Consolidated Package",
  "version": "2.0.2",
  "publisher": "connascence-systems",
  "icon": "images/broken-chain-logo.png",
  "repository": {
    "type": "git",
    "url": "https://github.com/DNYoussef/connascence-safety-analyzer.git"
  },
  "engines": {
    "vscode": "^1.74.0"
  },
  "categories": [
    "Linters",
    "Code Quality",
    "Security",
    "Refactoring"
  ],
  "keywords": [
    "connascence",
    "code quality",
    "nasa",
    "jpl",
    "safety",
    "refactoring",
    "grammar",
    "ast"
  ],
  "activationEvents": [
    "onStartupFinished",
    "*",
    "onLanguage:python",
    "onLanguage:c",
    "onLanguage:cpp",
    "onLanguage:javascript",
    "onLanguage:typescript",
    "onCommand:connascence.analyzeFile",
    "onCommand:connascence.analyzeWorkspace"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "connascence.analyzeFile",
        "title": "Analyze Current File",
        "category": "Connascence: Analysis",
        "icon": "$(search)",
        "enablement": "!inOutput"
      },
      {
        "command": "connascence.analyzeWorkspace",
        "title": "Analyze Entire Workspace",
        "category": "Connascence: Analysis",
        "icon": "$(folder-opened)",
        "enablement": "workspaceFolderCount > 0"
      },
      {
        "command": "connascence.analyzeSelection",
        "title": "Analyze Selected Code",
        "category": "Connascence: Analysis",
        "icon": "$(selection)",
        "enablement": "editorHasSelection"
      },
      {
        "command": "connascence.validateSafety",
        "title": "Validate Safety Standards",
        "category": "Connascence: Analysis",
        "icon": "$(shield)",
        "enablement": "!inOutput"
      },
      {
        "command": "connascence.suggestRefactoring",
        "title": "Suggest Code Improvements",
        "category": "Connascence: Refactoring",
        "icon": "$(lightbulb)",
        "enablement": "editorTextFocus"
      },
      {
        "command": "connascence.applyAutofix",
        "title": "Apply Safe Auto-Fixes",
        "category": "Connascence: Refactoring",
        "icon": "$(wand)",
        "enablement": "editorTextFocus"
      },
      {
        "command": "connascence.generateReport",
        "title": "Generate Quality Report",
        "category": "Connascence: Reports",
        "icon": "$(graph)",
        "enablement": "workspaceFolderCount > 0"
      },
      {
        "command": "connascence.exportReport",
        "title": "Export Analysis Report",
        "category": "Connascence: Reports",
        "icon": "$(export)"
      },
      {
        "command": "connascence.exportSarif",
        "title": "Export SARIF Report",
        "category": "Connascence: Reports",
        "icon": "$(file-code)",
        "enablement": "workspaceFolderCount > 0"
      },
      {
        "command": "connascence.exportJson",
        "title": "Export JSON Report",
        "category": "Connascence: Reports",
        "icon": "$(file-text)",
        "enablement": "workspaceFolderCount > 0"
      },
      {
        "command": "connascence.openSettings",
        "title": "Open Settings",
        "category": "Connascence: Configuration",
        "icon": "$(gear)"
      },
      {
        "command": "connascence.toggleSafetyProfile",
        "title": "Switch Safety Profile",
        "category": "Connascence: Configuration",
        "icon": "$(settings-gear)"
      },
      {
        "command": "connascence.exportConfiguration",
        "title": "Export Configuration",
        "category": "Connascence: Configuration",
        "icon": "$(save)"
      },
      {
        "command": "connascence.importConfiguration",
        "title": "Import Configuration",
        "category": "Connascence: Configuration",
        "icon": "$(folder-opened)"
      },
      {
        "command": "connascence.showDashboard",
        "title": "Show Quality Dashboard",
        "category": "Connascence: View",
        "icon": "$(dashboard)",
        "enablement": "workspaceFolderCount > 0"
      },
      {
        "command": "connascence.toggleHighlighting",
        "title": "Toggle Code Highlighting",
        "category": "Connascence: View",
        "icon": "$(eye)"
      },
      {
        "command": "connascence.showBrokenChainAnimation",
        "title": "Show Broken Chain Animation",
        "category": "Connascence: View",
        "icon": "$(debug-breakpoint-log)"
      },
      {
        "command": "connascence.showHealth",
        "title": "Show Analyzer Health",
        "category": "Connascence: Diagnostics",
        "icon": "$(pulse)"
      },
      {
        "command": "connascence.showWelcome",
        "title": "Show Welcome Screen",
        "category": "Connascence",
        "icon": "$(home)"
      },
      {
        "command": "connascence.clearCache",
        "title": "Clear Analysis Cache",
        "category": "Connascence: Utilities",
        "icon": "$(clear-all)"
      },
      {
        "command": "connascence.refreshAnalysis",
        "title": "Refresh Analysis",
        "category": "Connascence: Utilities",
        "icon": "$(refresh)",
        "enablement": "workspaceFolderCount > 0"
      }
    ],
    "keybindings": [
      {
        "command": "connascence.analyzeFile",
        "key": "ctrl+alt+a",
        "mac": "cmd+alt+a",
        "when": "editorTextFocus"
      },
      {
        "command": "connascence.analyzeSelection",
        "key": "ctrl+alt+s",
        "mac": "cmd+alt+s",
        "when": "editorHasSelection"
      },
      {
        "command": "connascence.analyzeWorkspace",
        "key": "ctrl+alt+w",
        "mac": "cmd+alt+w",
        "when": "workspaceFolderCount > 0"
      },
      {
        "command": "connascence.suggestRefactoring",
        "key": "ctrl+alt+r",
        "mac": "cmd+alt+r",
        "when": "editorTextFocus"
      },
      {
        "command": "connascence.showDashboard",
        "key": "ctrl+alt+d",
        "mac": "cmd+alt+d",
        "when": "workspaceFolderCount > 0"
      }
    ],
    "menus": {
      "commandPalette": [
        {
          "command": "connascence.analyzeSelection",
          "when": "editorHasSelection"
        },
        {
          "command": "connascence.validateSafety",
          "when": "editorTextFocus"
        },
        {
          "command": "connascence.suggestRefactoring",
          "when": "editorTextFocus"
        },
        {
          "command": "connascence.applyAutofix",
          "when": "editorTextFocus"
        },
        {
          "command": "connascence.showDashboard",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "connascence.exportSarif",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "connascence.exportJson",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "connascence.refreshAnalysis",
          "when": "workspaceFolderCount > 0"
        }
      ],
      "editor/context": [
        {
          "command": "connascence.analyzeFile",
          "when": "resourceLangId in connascence.supportedLanguages",
          "group": "1_connascence@1"
        },
        {
          "command": "connascence.analyzeSelection",
          "when": "editorHasSelection && resourceLangId in connascence.supportedLanguages",
          "group": "1_connascence@2"
        },
        {
          "command": "connascence.validateSafety",
          "when": "resourceLangId in connascence.supportedLanguages",
          "group": "1_connascence@3"
        },
        {
          "submenu": "connascence.refactoring",
          "when": "editorTextFocus && resourceLangId in connascence.supportedLanguages",
          "group": "1_connascence@4"
        }
      ],
      "editor/title": [
        {
          "command": "connascence.analyzeFile",
          "when": "resourceLangId in connascence.supportedLanguages",
          "group": "navigation@1"
        },
        {
          "command": "connascence.showDashboard",
          "when": "workspaceFolderCount > 0",
          "group": "navigation@2"
        }
      ],
      "explorer/context": [
        {
          "command": "connascence.analyzeFile",
          "when": "resourceLangId in connascence.supportedLanguages",
          "group": "2_connascence@1"
        },
        {
          "command": "connascence.analyzeWorkspace",
          "when": "explorerResourceIsFolder",
          "group": "2_connascence@2"
        }
      ],
      "view/title": [
        {
          "command": "connascence.refreshAnalysis",
          "when": "view == connascence.resultsView",
          "group": "navigation@1"
        },
        {
          "command": "connascence.clearCache",
          "when": "view == connascence.resultsView",
          "group": "navigation@2"
        }
      ],
      "connascence.refactoring": [
        {
          "command": "connascence.suggestRefactoring",
          "group": "1_suggestions@1"
        },
        {
          "command": "connascence.applyAutofix",
          "group": "1_suggestions@2"
        }
      ]
    },
    "submenus": [
      {
        "id": "connascence.refactoring",
        "label": "Connascence Refactoring",
        "icon": "$(lightbulb)"
      }
    ],
    "languages": [
      {
        "id": "python",
        "aliases": [
          "Python",
          "py"
        ],
        "extensions": [
          ".py"
        ]
      },
      {
        "id": "c",
        "aliases": [
          "C",
          "c"
        ],
        "extensions": [
          ".c",
          ".h"
        ]
      },
      {
        "id": "cpp",
        "aliases": [
          "C++",
          "cpp"
        ],
        "extensions": [
          ".cpp",
          ".hpp",
          ".cc",
          ".cxx"
        ]
      },
      {
        "id": "javascript",
        "aliases": [
          "JavaScript",
          "js"
        ],
        "extensions": [
          ".js",
          ".mjs"
        ]
      },
      {
        "id": "typescript",
        "aliases": [
          "TypeScript",
          "ts"
        ],
        "extensions": [
          ".ts",
          ".tsx"
        ]
      }
    ],
    "configuration": {
      "title": "Connascence Safety Analyzer",
      "properties": {
        "connascence.safetyProfile": {
          "type": "string",
          "enum": [
            "none",
            "nasa-compliance",
            "strict",
            "standard",
            "lenient",
            "general_safety_strict",
            "safety_level_1",
            "safety_level_3",
            "modern_general"
          ],
          "default": "standard",
          "description": "Active safety profile for analysis. Enhanced unified policy names: nasa-compliance (highest), strict, standard (balanced), lenient. Legacy names supported for compatibility."
        },
        "connascence.grammarValidation": {
          "type": "boolean",
          "default": true,
          "description": "Enable grammar-enhanced validation"
        },
        "connascence.realTimeAnalysis": {
          "type": "boolean",
          "default": true,
          "description": "Enable real-time analysis as you type"
        },
        "connascence.debounceMs": {
          "type": "number",
          "default": 1000,
          "description": "Debounce delay in milliseconds for real-time analysis"
        },
        "connascence.maxDiagnostics": {
          "type": "number",
          "default": 1500,
          "description": "Maximum number of diagnostics to show"
        },
        "connascence.enableIntelliSense": {
          "type": "boolean",
          "default": true,
          "description": "Enable connascence-aware IntelliSense completions"
        },
        "connascence.enableCodeLens": {
          "type": "boolean",
          "default": true,
          "description": "Show connascence metrics as code lens"
        },
        "connascence.enableHover": {
          "type": "boolean",
          "default": true,
          "description": "Show connascence explanations on hover"
        },
        "connascence.autoFixSuggestions": {
          "type": "boolean",
          "default": true,
          "description": "Show automatic fix suggestions"
        },
        "connascence.serverUrl": {
          "type": "string",
          "default": "http://localhost:8080",
          "description": "Connascence MCP server URL"
        },
        "connascence.authenticateWithServer": {
          "type": "boolean",
          "default": false,
          "description": "Require authentication with server"
        },
        "connascence.frameworkProfile": {
          "type": "string",
          "enum": [
            "generic",
            "django",
            "fastapi",
            "react"
          ],
          "default": "generic",
          "description": "Framework-specific analysis profile"
        },
        "connascence.showInlineHints": {
          "type": "boolean",
          "default": true,
          "description": "Show inline code quality hints"
        },
        "connascence.diagnosticSeverity": {
          "type": "string",
          "enum": [
            "error",
            "warning",
            "info",
            "hint"
          ],
          "default": "warning",
          "description": "Severity level for diagnostics"
        },
        "connascence.confidenceThreshold": {
          "type": "number",
          "default": 0.8,
          "minimum": 0,
          "maximum": 1,
          "description": "Confidence threshold for analysis suggestions (0.0-1.0)"
        },
        "connascence.excludePatterns": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "**/node_modules/**",
            "**/venv/**",
            "**/env/**",
            "**/__pycache__/**",
            "**/dist/**",
            "**/build/**",
            "**/.git/**"
          ],
          "description": "File and directory patterns to exclude from analysis"
        },
        "connascence.includePatterns": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "**/*.py",
            "**/*.c",
            "**/*.cpp",
            "**/*.js",
            "**/*.ts"
          ],
          "description": "File patterns to include in analysis"
        },
        "connascence.nasaComplianceThreshold": {
          "type": "number",
          "default": 0.95,
          "minimum": 0,
          "maximum": 1,
          "description": "NASA compliance threshold for safety-critical code (0.0-1.0)"
        },
        "connascence.meceQualityThreshold": {
          "type": "number",
          "default": 0.85,
          "minimum": 0,
          "maximum": 1,
          "description": "MECE (Mutually Exclusive, Collectively Exhaustive) quality threshold (0.0-1.0)"
        },
        "connascence.performanceAnalysis": {
          "type": "object",
          "properties": {
            "enableProfiling": {
              "type": "boolean",
              "default": true,
              "description": "Enable performance profiling during analysis"
            },
            "maxAnalysisTime": {
              "type": "number",
              "default": 30000,
              "description": "Maximum analysis time per file in milliseconds"
            },
            "memoryThreshold": {
              "type": "number",
              "default": 512,
              "description": "Memory usage threshold in MB before warnings"
            },
            "enableCaching": {
              "type": "boolean",
              "default": true,
              "description": "Enable result caching for better performance"
            },
            "cacheSize": {
              "type": "number",
              "default": 1000,
              "description": "Maximum number of cached analysis results"
            }
          },
          "default": {
            "enableProfiling": true,
            "maxAnalysisTime": 30000,
            "memoryThreshold": 512,
            "enableCaching": true,
            "cacheSize": 1000
          },
          "description": "Performance analysis configuration options"
        },
        "connascence.advancedFiltering": {
          "type": "object",
          "properties": {
            "enableGitIgnore": {
              "type": "boolean",
              "default": true,
              "description": "Respect .gitignore patterns"
            },
            "enableCustomIgnore": {
              "type": "boolean",
              "default": true,
              "description": "Enable custom .connascence-ignore file"
            },
            "minFileSize": {
              "type": "number",
              "default": 10,
              "description": "Minimum file size in bytes to analyze"
            },
            "maxFileSize": {
              "type": "number",
              "default": 10485760,
              "description": "Maximum file size in bytes to analyze (10MB default)"
            },
            "excludeBinaryFiles": {
              "type": "boolean",
              "default": true,
              "description": "Automatically exclude binary files from analysis"
            }
          },
          "default": {
            "enableGitIgnore": true,
            "enableCustomIgnore": true,
            "minFileSize": 10,
            "maxFileSize": 10485760,
            "excludeBinaryFiles": true
          },
          "description": "Advanced file filtering options"
        },
        "connascence.analysisDepth": {
          "type": "string",
          "enum": [
            "surface",
            "standard",
            "deep",
            "comprehensive"
          ],
          "default": "standard",
          "description": "Analysis depth level affecting thoroughness and performance"
        },
        "connascence.enableExperimentalFeatures": {
          "type": "boolean",
          "default": false,
          "description": "Enable experimental features (may be unstable)"
        },
        "connascence.enhancedPipeline": {
          "type": "object",
          "properties": {
            "enableCrossPhaseCorrelation": {
              "type": "boolean",
              "default": true,
              "description": "Enable cross-phase correlation analysis"
            },
            "enableAuditTrail": {
              "type": "boolean",
              "default": true,
              "description": "Enable detailed audit trail of analysis phases"
            },
            "enableSmartRecommendations": {
              "type": "boolean",
              "default": true,
              "description": "Enable AI-powered smart recommendations based on cross-phase analysis"
            },
            "enableHotspotAnalysis": {
              "type": "boolean",
              "default": true,
              "description": "Enable file-level hotspot analysis across all analyzers"
            },
            "showPhaseTimings": {
              "type": "boolean",
              "default": false,
              "description": "Show analysis phase timing information"
            },
            "correlationThreshold": {
              "type": "number",
              "default": 0.6,
              "minimum": 0,
              "maximum": 1,
              "description": "Threshold for cross-phase correlation detection (0.0-1.0)"
            }
          },
          "default": {
            "enableCrossPhaseCorrelation": true,
            "enableAuditTrail": true,
            "enableSmartRecommendations": true,
            "enableHotspotAnalysis": true,
            "showPhaseTimings": false,
            "correlationThreshold": 0.6
          },
          "description": "Enhanced analysis pipeline configuration"
        },
        "connascence.customRules": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "pattern": {
                "type": "string"
              },
              "severity": {
                "type": "string",
                "enum": [
                  "error",
                  "warning",
                  "info",
                  "hint"
                ]
              },
              "message": {
                "type": "string"
              }
            },
            "required": [
              "name",
              "pattern",
              "severity",
              "message"
            ]
          },
          "default": [],
          "description": "Custom analysis rules"
        },
        "connascence.analyzeOnStartup": {
          "type": "boolean",
          "default": false,
          "description": "Automatically analyze workspace files when VS Code starts (may impact startup performance)"
        },
        "connascence.supportedLanguages": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "python",
            "c",
            "cpp",
            "javascript",
            "typescript"
          ],
          "description": "List of programming languages supported by Connascence analysis"
        },
        "connascence.linterIntegration": {
          "type": "object",
          "properties": {
            "enableRuffCorrelation": {
              "type": "boolean",
              "default": true,
              "description": "Correlate Ruff linter issues with connascence violations"
            },
            "enablePylintCorrelation": {
              "type": "boolean",
              "default": true,
              "description": "Correlate Pylint issues with connascence violations"
            },
            "showLinterMappings": {
              "type": "boolean",
              "default": true,
              "description": "Show mappings between linter rules and connascence types"
            },
            "ruffConfigPath": {
              "type": "string",
              "default": "pyproject.toml",
              "description": "Path to Ruff configuration file"
            },
            "prioritizeConnascenceFindings": {
              "type": "boolean",
              "default": true,
              "description": "Show connascence violations above standard linter issues"
            },
            "unifiedDiagnostics": {
              "type": "boolean",
              "default": true,
              "description": "Combine connascence and linter diagnostics in unified view"
            }
          },
          "default": {
            "enableRuffCorrelation": true,
            "enablePylintCorrelation": true,
            "showLinterMappings": true,
            "ruffConfigPath": "pyproject.toml",
            "prioritizeConnascenceFindings": true,
            "unifiedDiagnostics": true
          },
          "description": "Linter integration and correlation settings"
        },
        "connascence.magicLiteralDetection": {
          "type": "object",
          "properties": {
            "enableEnhancedDetection": {
              "type": "boolean",
              "default": true,
              "description": "Enable enhanced magic literal detection beyond basic Ruff PLR2004"
            },
            "contextualAnalysis": {
              "type": "boolean",
              "default": true,
              "description": "Analyze context to reduce false positives for magic literals"
            },
            "excludeCommonPatterns": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "default": [
                "0",
                "1",
                "-1",
                "True",
                "False",
                "None"
              ],
              "description": "Common literal values to exclude from magic literal detection"
            }
          },
          "default": {
            "enableEnhancedDetection": true,
            "contextualAnalysis": true,
            "excludeCommonPatterns": [
              "0",
              "1",
              "-1",
              "True",
              "False",
              "None"
            ]
          },
          "description": "Magic literal (Connascence of Meaning) detection settings"
        },
        "connascence.parameterAnalysis": {
          "type": "object",
          "properties": {
            "maxParameterCount": {
              "type": "number",
              "default": 4,
              "minimum": 2,
              "maximum": 10,
              "description": "Maximum parameter count before flagging Connascence of Position"
            },
            "enableKeywordArgSuggestions": {
              "type": "boolean",
              "default": true,
              "description": "Suggest keyword arguments for functions with many parameters"
            },
            "correlateWithRuffPLR0913": {
              "type": "boolean",
              "default": true,
              "description": "Correlate parameter analysis with Ruff PLR0913 rule"
            }
          },
          "default": {
            "maxParameterCount": 4,
            "enableKeywordArgSuggestions": true,
            "correlateWithRuffPLR0913": true
          },
          "description": "Parameter analysis (Connascence of Position) settings"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "pretest": "npm run compile && npm run lint",
    "lint": "eslint src --ext ts",
    "test": "node ./out/test/runTest.js",
    "package": "vsce package",
    "publish": "vsce publish",
    "build:production": "npm run compile && npm run lint && npm run test"
  },
  "devDependencies": {
    "@types/glob": "^8.1.0",
    "@types/mocha": "^10.0.10",
    "@types/node": "18.x",
    "@types/vscode": "^1.74.0",
    "@typescript-eslint/eslint-plugin": "^6.21.0",
    "@typescript-eslint/parser": "^6.21.0",
    "@vscode/test-electron": "^2.3.8",
    "@vscode/vsce": "^2.15.0",
    "eslint": "^8.57.0",
    "mocha": "^10.2.0",
    "ts-loader": "^9.5.1",
    "typescript": "^5.3.3",
    "webpack": "^5.89.0",
    "webpack-cli": "^5.1.4"
  },
  "extensionDependencies": [
    "ms-python.python"
  ]
}
